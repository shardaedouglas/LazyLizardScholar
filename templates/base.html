<!DOCTYPE html>
<html lang="en" data-bs-theme="light">

    <head>
        <title>{% block title %}CyberStudy - Modern Coding Education{% endblock title %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">        
        <meta charset="utf-8">
        <meta name="description" content="Empowering the next generation of cyber citizens through modern coding education">
        <meta name="keywords" content="coding, programming, education, kids, technology, computer science">
        
        <!-- CSS Framework -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        
        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
        
        <!-- Font Awesome for Icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        
        <!-- Custom Styles -->
        <link rel="stylesheet" href="{{ url_for('static', filename='stylesheet/styles.css') }}">
        
        <!-- Favicon -->
        <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/Logo/LogoNoText.png') }}">
    </head>
        
    <body>
        <!--  Navigation -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
            <div class="container">
                <a class="navbar-brand d-flex align-items-center" href="/">
                    <img src="{{ url_for('static', filename='images/Logo/LogoNoText.png') }}" alt="CyberStudy Logo" height="50" class="me-2">
                    <span class="brand-text">CyberStudy</span>
                </a>
                
                <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto me-4">
                        <li class="nav-item">
                            <a class="nav-link fw-medium" href="/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-medium" href="/tech_stack">Tech Stack</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-medium" href="/curriculum">Curriculum</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-medium" href="/teaching_approach">Teaching Philosophy</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-medium" href="/projects">Projects</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-medium" href="/about">About</a>
                        </li>
                    </ul>
                    
                    <div class="d-flex gap-2">
                        <button class="btn btn-outline-primary btn-sm" id="themeToggle">
                            <i class="fas fa-moon"></i>
                        </button>
                        <a href="/signin" class="btn btn-outline-secondary btn-sm" id="signinBtn">
                            <i class="fas fa-sign-in-alt me-1"></i>Sign In
                        </a>
                        <a class="btn btn-primary btn-sm" href="#signup">Get Started</a>
                    </div>
                </div>
            </div>
        </nav>
        
        {% block content %}{% endblock content %}  

        <!-- Signup Modal -->
        <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title" id="signupModalLabel">
                            <i class="fas fa-user-plus me-2"></i>Sign Up Your Child for Coding Lessons
                        </h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body p-4">
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="fw-semibold mb-3 text-primary">Parent Information</h6>
                                <form id="signupForm">
                                    <div class="mb-3">
                                        <label for="parentName" class="form-label">Parent/Guardian Name *</label>
                                        <input type="text" class="form-control" id="parentName" name="parentName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="parentEmail" class="form-label">Email Address *</label>
                                        <input type="email" class="form-control" id="parentEmail" name="parentEmail" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="parentPhone" class="form-label">Phone Number *</label>
                                        <input type="tel" class="form-control" id="parentPhone" name="parentPhone" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="parentRelation" class="form-label">Relationship to Child *</label>
                                        <select class="form-select" id="parentRelation" name="parentRelation" required>
                                            <option value="">Select relationship</option>
                                            <option value="parent">Parent</option>
                                            <option value="guardian">Guardian</option>
                                            <option value="grandparent">Grandparent</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                            </div>
                            <div class="col-md-6">
                                <h6 class="fw-semibold mb-3 text-primary">Child Information</h6>
                                    <div class="mb-3">
                                        <label for="childName" class="form-label">Child's Name *</label>
                                        <input type="text" class="form-control" id="childName" name="childName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="childAge" class="form-label">Child's Age *</label>
                                        <select class="form-select" id="childAge" name="childAge" required>
                                            <option value="">Select age</option>
                                            <option value="5-7">5-7 years</option>
                                            <option value="8-10">8-10 years</option>
                                            <option value="11-13">11-13 years</option>
                                            <option value="14-16">14-16 years</option>
                                            <option value="17+">17+ years</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="childGrade" class="form-label">School Grade (Optional)</label>
                                        <select class="form-select" id="childGrade" name="childGrade">
                                            <option value="">Select grade</option>
                                            <option value="kindergarten">Kindergarten</option>
                                            <option value="1st">1st Grade</option>
                                            <option value="2nd">2nd Grade</option>
                                            <option value="3rd">3rd Grade</option>
                                            <option value="4th">4th Grade</option>
                                            <option value="5th">5th Grade</option>
                                            <option value="6th">6th Grade</option>
                                            <option value="7th">7th Grade</option>
                                            <option value="8th">8th Grade</option>
                                            <option value="9th">9th Grade</option>
                                            <option value="10th">10th Grade</option>
                                            <option value="11th">11th Grade</option>
                                            <option value="12th">12th Grade</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="experienceLevel" class="form-label">Coding Experience Level *</label>
                                        <select class="form-select" id="experienceLevel" name="experienceLevel" required>
                                            <option value="">Select experience level</option>
                                            <option value="beginner">Complete Beginner</option>
                                            <option value="some-experience">Some Experience (Scratch, etc.)</option>
                                            <option value="intermediate">Intermediate (Knows basic programming)</option>
                                            <option value="advanced">Advanced (Multiple languages)</option>
                                        </select>
                                    </div>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-12">
                                <h6 class="fw-semibold mb-3 text-primary">Learning Preferences</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="learningGoals" class="form-label">What would you like your child to learn? *</label>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="web-development" id="goal1" name="learningGoals">
                                                <label class="form-check-label" for="goal1">Web Development</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="game-development" id="goal2" name="learningGoals">
                                                <label class="form-check-label" for="goal2">Game Development</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="mobile-apps" id="goal3" name="learningGoals">
                                                <label class="form-check-label" for="goal3">Mobile Apps</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="data-science" id="goal4" name="learningGoals">
                                                <label class="form-check-label" for="goal4">Data Science</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="schedulePreference" class="form-label">Preferred Schedule *</label>
                                            <select class="form-select" id="schedulePreference" name="schedulePreference" required>
                                                <option value="">Select preference</option>
                                                <option value="weekday-morning">Weekday Mornings</option>
                                                <option value="weekday-afternoon">Weekday Afternoons</option>
                                                <option value="weekday-evening">Weekday Evenings</option>
                                                <option value="weekend-morning">Weekend Mornings</option>
                                                <option value="weekend-afternoon">Weekend Afternoons</option>
                                                <option value="flexible">Flexible</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label for="sessionLength" class="form-label">Preferred Session Length</label>
                                            <select class="form-select" id="sessionLength" name="sessionLength">
                                                <option value="">Select length</option>
                                                <option value="30-min">30 minutes</option>
                                                <option value="45-min">45 minutes</option>
                                                <option value="60-min">60 minutes</option>
                                                <option value="90-min">90 minutes</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label for="additionalInfo" class="form-label">Additional Information</label>
                                    <textarea class="form-control" id="additionalInfo" name="additionalInfo" rows="3" placeholder="Tell us about your child's interests, any special needs, or specific goals..."></textarea>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="newsletter" name="newsletter">
                                    <label class="form-check-label" for="newsletter">
                                        I would like to receive updates about new courses and coding resources
                                    </label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="terms" name="terms" required>
                                    <label class="form-check-label" for="terms">
                                        I agree to the <a href="#" class="text-primary">Terms of Service</a> and <a href="#" class="text-primary">Privacy Policy</a> *
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="submitSignup">
                            <i class="fas fa-paper-plane me-2"></i>Submit Registration
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </body>

        <!-- Footer -->
        <footer class="bg-dark text-light py-5 mt-5">
            <div class="container">
                <div class="row g-4">
                    <div class="col-lg-4 col-md-6">
                        <div class="d-flex align-items-center mb-3">
                            <img src="{{ url_for('static', filename='images/Logo/LogoNoText.png') }}" alt="Logo" height="40" class="me-2">
                            <h5 class="mb-0">CyberStudy</h5>
                        </div>
                        <p class="text-muted mb-3">Empowering the next generation of cyber citizens through modern coding education.</p>
                        <div class="d-flex gap-3">
                            <a href="#" class="text-light"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-light"><i class="fab fa-facebook"></i></a>
                            <a href="#" class="text-light"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="text-light"><i class="fab fa-linkedin"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-6">
                        <h6 class="fw-semibold mb-3">Platform</h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="/tech_stack" class="text-muted text-decoration-none">Tech Stack</a></li>
                            <li class="mb-2"><a href="/curriculum" class="text-muted text-decoration-none">Curriculum</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Courses</a></li>
                            <li class="mb-2"><a href="/projects" class="text-muted text-decoration-none">Projects</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-md-6">
                        <h6 class="fw-semibold mb-3">Resources</h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Documentation</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Tutorials</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Community</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Support</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-md-6">
                        <h6 class="fw-semibold mb-3">Company</h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="/about" class="text-muted text-decoration-none">About Us</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Careers</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Contact</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Blog</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-md-6">
                        <h6 class="fw-semibold mb-3">Legal</h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Privacy Policy</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Terms of Service</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Cookie Policy</a></li>
                        </ul>
                    </div>
                </div>
                <hr class="my-4">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <p class="text-muted mb-0">&copy; 2025 CyberStudy. All rights reserved.</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <p class="text-muted mb-0">Made with <i class="fas fa-heart text-danger"></i></p>
                    </div>
                </div>
            </div>
        </footer>

        <!-- JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        
        <!-- JavaScript Features -->
        <script>
            // Dark/Light Theme Toggle
            const themeToggle = document.getElementById('themeToggle');
            const html = document.documentElement;
            
            // Check for saved theme preference or default to light
            const currentTheme = localStorage.getItem('theme') || 'light';
            html.setAttribute('data-bs-theme', currentTheme);
            
            // Update toggle icon based on current theme
            updateThemeIcon(currentTheme);
            
            themeToggle.addEventListener('click', function() {
                const currentTheme = html.getAttribute('data-bs-theme');
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                
                html.setAttribute('data-bs-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateThemeIcon(newTheme);
            });
            
            function updateThemeIcon(theme) {
                const icon = themeToggle.querySelector('i');
                icon.className = theme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
            }
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Add scroll effect to navbar
            window.addEventListener('scroll', function() {
                const navbar = document.querySelector('.navbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('navbar-scrolled');
                } else {
                    navbar.classList.remove('navbar-scrolled');
                }
            });
            
            // Signup Modal functionality
            const signupModal = new bootstrap.Modal(document.getElementById('signupModal'));
            
            // Open modal when Get Started buttons are clicked
            document.querySelectorAll('a[href="#signup"]').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    signupModal.show();
                });
            });
            
            // Handle form submission
            document.getElementById('signupForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form data
                const formData = new FormData(this);
                const data = {};
                
                // Convert FormData to object
                for (let [key, value] of formData.entries()) {
                    if (data[key]) {
                        // Handle multiple values (like checkboxes)
                        if (Array.isArray(data[key])) {
                            data[key].push(value);
                        } else {
                            data[key] = [data[key], value];
                        }
                    } else {
                        data[key] = value;
                    }
                }
                
                // Validate required fields
                const requiredFields = ['parentName', 'parentEmail', 'parentPhone', 'parentRelation', 'childName', 'childAge', 'experienceLevel', 'schedulePreference', 'terms'];
                let isValid = true;
                
                requiredFields.forEach(field => {
                    if (!data[field]) {
                        isValid = false;
                        document.getElementById(field).classList.add('is-invalid');
                    } else {
                        document.getElementById(field).classList.remove('is-invalid');
                    }
                });
                
                // Check if at least one learning goal is selected
                const learningGoals = document.querySelectorAll('input[name="learningGoals"]:checked');
                if (learningGoals.length === 0) {
                    isValid = false;
                    document.querySelector('input[name="learningGoals"]').classList.add('is-invalid');
                }
                
                if (!isValid) {
                    alert('Please fill in all required fields and select at least one learning goal.');
                    return;
                }
                
                // Show loading state
                const submitBtn = document.getElementById('submitSignup');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Submitting...';
                submitBtn.disabled = true;
                
                // Submit form to backend
                fetch('/api/signup', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                })
                .then(response => response.json())
                .then(result => {
                    // Reset button
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    if (result.success) {
                        // Close modal
                        signupModal.hide();
                        
                        // Show success message
                        alert(`Thank you for your registration! Registration ID: ${result.registration_id}\n\nWe will contact you within 24 hours to discuss your child's coding journey.`);
                        
                        // Reset form
                        document.getElementById('signupForm').reset();
                        
                        // Remove validation classes
                        document.querySelectorAll('.is-invalid').forEach(el => {
                            el.classList.remove('is-invalid');
                        });
                    } else {
                        alert('Error: ' + result.error);
                    }
                })
                .catch(error => {
                    // Reset button
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    console.error('Error:', error);
                    alert('An error occurred while submitting the form. Please try again.');
                });
            });
        </script>
</html>